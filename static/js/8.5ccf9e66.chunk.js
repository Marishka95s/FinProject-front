(this["webpackJsonpfin-project-front"]=this["webpackJsonpfin-project-front"]||[]).push([[8],{131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){e.exports={navigation_link:"Navigation_navigation_link__2AaYf",navigation_container:"Navigation_navigation_container__2l-nP",navigation_nav_link:"Navigation_navigation_nav_link__1WBZo",navigation_home_icon:"Navigation_navigation_home_icon__1AE_A",navigation_stat_icon:"Navigation_navigation_stat_icon__1dqXB",navigation_dollar_icon:"Navigation_navigation_dollar_icon__2Zse7",navigation_page_home:"Navigation_navigation_page_home__2rySn",navigation_page_stat:"Navigation_navigation_page_stat__2iwgI",active_link:"Navigation_active_link__nCjyh"}},142:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var c=a(24),n=a.p+"static/media/icons.31f6f444.svg",s=a(4),i=function(e){var t=e.name,a=e.size,c=e.className,i=e.color;return Object(s.jsx)("svg",{className:"icon icon-".concat(t," ").concat(c),fill:i,stroke:i,width:a,height:a,children:Object(s.jsx)("use",{xlinkHref:"".concat(n,"#icon-").concat(t)})})},r=a(135),o=a.n(r),l=function(){return Object(s.jsx)("div",{className:o.a.navigation_container,children:Object(s.jsxs)("nav",{className:o.a.navigation_nav_link,children:[Object(s.jsxs)(c.c,{to:"/fin-project-front/home",className:o.a.navigation_link,activeClassName:o.a.active_link,children:[Object(s.jsx)(i,{name:"home",className:o.a.navigation_home_icon}),Object(s.jsx)("p",{className:o.a.navigation_page_home,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})]}),Object(s.jsxs)(c.c,{to:"/fin-project-front/statistics",className:o.a.navigation_link,activeClassName:o.a.active_link,children:[Object(s.jsx)(i,{name:"statistic",className:o.a.navigation_stat_icon}),Object(s.jsx)("p",{className:o.a.navigation_page_stat,children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),Object(s.jsx)(c.c,{to:"/fin-project-front/currency",className:o.a.navigation_link,activeClassName:o.a.active_link,children:Object(s.jsx)(i,{name:"dollar",className:o.a.navigation_dollar_icon})})]})})}},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var c=a(0),n=a(24),s=(a(131),a(118)),i=(a(132),a(18)),r=a(19),o=a(22),l=a(38),d=(a(133),a(4)),j=document.querySelector("#modal-root");function b(e){var t=e.onClose,a=Object(i.c)(),n=Object(c.useCallback)((function(){a(l.a.logout())}),[a]);Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var s=Object(c.useCallback)((function(e){e.currentTarget===e.target&&t()}),[t]);return Object(o.createPortal)(Object(d.jsx)("div",{className:"modal-backdrop",onClick:s,children:Object(d.jsxs)("div",{className:"modal-content",onClose:t,children:[Object(d.jsx)("span",{className:"logout-modal-text",children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?"}),Object(d.jsxs)("div",{className:"modal-buttons",children:[Object(d.jsx)("button",{className:"logout-modalBtn",onClick:n,children:"\u0412\u044b\u0439\u0442\u0438"}),Object(d.jsx)("button",{className:"close-modalBtn",onClick:s,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),j)}function u(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(i.d)(r.c.getUserName),l=Object(c.useCallback)((function(){n(!0)})),j=Object(c.useCallback)((function(){n(!1)}));return Object(d.jsxs)("div",{className:"user-menu",children:[Object(d.jsx)("span",{className:"user-name",children:o}),Object(d.jsxs)("button",{className:"logout-button",type:"button",onClick:l,children:[Object(d.jsx)("svg",{className:"logout-icon",children:Object(d.jsx)("use",{href:"../../../../images/icons/logout-icon.svg"})}),Object(d.jsx)("span",{className:"exit-button-text",children:"\u0412\u044b\u0439\u0442\u0438"})]}),a?Object(d.jsx)(b,{onClose:j}):null]})}function h(){return Object(d.jsxs)("div",{className:"auth-bar",children:[Object(d.jsx)(n.b,{to:"/fin-project-front/home",className:"logo bar-logo"}),Object(d.jsx)(u,{})]})}},144:function(e,t,a){"use strict";var c=a(32),n=a.n(c),s=a(25),i=a(37),r=a(118),o=a(0),l=a(369),d=a(373),j=a(376),b=a(382),u=a(374),h=a(375),m=a(40),x=a.n(m),O=a(372),p=a.p+"static/media/vector.2c3a3c54.svg",f=a.p+"static/media/vector1.94d94956.svg",v=(a(134),a(4)),g=function(e){return Number.parseFloat(e).toFixed(2)};t.a=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],m=Object(o.useState)(!1),_=Object(r.a)(m,2),N=_[0],w=_[1],k=Object(o.useState)(!1),y=Object(r.a)(k,2),C=y[0],S=y[1];Object(o.useEffect)((function(){B(),S(window.innerWidth>1279),F()}),[]);var B=function(){window.addEventListener("resize",(function(){S(window.innerWidth>1279)}))},F=function(){var e=Object(i.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fetch("https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5").then((function(e){return e.json()})).then((function(e){return e}));case 4:t=e.sent,a=t.filter((function(e){return"BTC"!==e.ccy})),c((function(e){return[].concat(Object(s.a)(e),Object(s.a)(a))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Smth wrong with search fetch",e.t0);case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),A=Object(l.a)((function(e){return{root:{fontFamily:"Circe","border-top-left-radius":20,"border-top-right-radius":20,padding:0,"border-bottom-left-radius":20,"border-bottom-right-radius":20},table:{"@media (min-width: 320px) and (max-width:767px )":{width:280},"@media (min-width: 768px) and (max-width:1279px )":{width:334},"@media (min-width: 1280)":{width:348},"@media (min-width: 320px) and (max-width:1279px )":{backgroundImage:"url(".concat(f,")"),backgroundPosition:"bottom",backgroundRepeat:"no-repeat","border-bottom-left-radius":20,"border-bottom-right-radius":20},"text-align":"center",border:"none",background:"#4a56e2","border-top-left-radius":20,"border-top-right-radius":20,fontFamily:"Circe"},tableBody:{"@media (min-width: 320px) and (max-width:1279px )":{}},head:{"@media (min-width: 320px) and (max-width:1279px )":{height:50},"@media (min-width: 1280)":{height:60},"text-align":"center","border-bottom":"none",color:"#ffffff","font-size":"18px",fontFamily:"Circe","line-height":"27px"},headCell:{"font-weight":"bold","@media (min-width: 1280)":{padding:0},"@media (min-width: 320px) and (max-width:1279px )":{padding:0},"text-align":"center",color:"#ffffff","font-size":"18px",fontFamily:"Circe","border-bottom":"none","line-height":"27px",background:"#6e78e8"},row:{"@media (min-width: 1280)":{height:51}},cell:{padding:13,"text-align":"center",border:"none","@media (min-width: 320px) and (max-width:1279px )":{height:41,padding:0},"@media (min-width: 1280)":{height:51},fontFamily:"Circe",color:"#ffffff","font-weight":400,"font-size":"16px","line-height":"24px"},cellRadiusLeft:{"border-top-left-radius":20},cellRadiusRight:{"border-top-right-radius":20},vector:{background:"#4a56e2","border-bottom-left-radius":20,"border-bottom-right-radius":20}}}))();return Object(v.jsxs)("div",{children:[Object(v.jsx)(O.a,{className:A.root,children:Object(v.jsxs)(d.a,{className:A.table,children:[Object(v.jsx)(u.a,{className:A.head,children:Object(v.jsxs)(h.a,{children:[Object(v.jsx)(b.a,{className:A.headCell+" "+A.cellRadiusLeft,children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(v.jsx)(b.a,{className:A.headCell,children:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430"}),Object(v.jsx)(b.a,{className:A.headCell+" "+A.cellRadiusRight,children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"})]})}),Object(v.jsx)(j.a,{className:A.tableBody,children:a.map((function(e){return Object(v.jsxs)(h.a,{className:A.row,children:[Object(v.jsx)(b.a,{className:A.cell,children:e.ccy}),Object(v.jsx)(b.a,{className:A.cell,children:g(e.buy)}),Object(v.jsx)(b.a,{className:A.cell,children:g(e.sale)})]},e.ccy)}))})]})}),N&&Object(v.jsx)(x.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),C&&Object(v.jsxs)("div",{children:[" ",Object(v.jsx)("img",{src:p,className:A.vector,alt:"vector"})]})]})}},145:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return n}));var c={};a.r(c),a.d(c,"fetchBalance",(function(){return u}));var n={};a.r(n),a.d(n,"getBalance",(function(){return h})),a.d(n,"getBalanceIsLoading",(function(){return m})),a.d(n,"getBalanceError",(function(){return x}));var s=a(20),i=a(32),r=a.n(i),o=a(37),l=a(16),d=a.n(l),j=a(14),b=a.n(j),u=function(){return function(){var e=Object(o.a)(r.a.mark((function e(t){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(s.b)()),e.prev=1,e.next=4,d.a.get("/auth/current");case 4:a=e.sent,"success"===(c=a.data).status&&t(Object(s.c)(c.data.user.balance)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),t(Object(s.a)(e.t0.message)),b.a.error("fetchBalance: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},h=(a(42),function(e){return e.balance.balance}),m=function(e){return e.balance.balanceIsLoading},x=function(e){return e.balance.balanceError}},164:function(e,t,a){"use strict";var c=a(0),n=a(18),s=a(145),i=a(165),r=a.n(i),o=a(4);t.a=Object(n.b)((function(e){return{balance:e.balance.balance}}))((function(){var e=Object(n.c)();Object(c.useEffect)((function(){e(s.a.fetchBalance())}),[e]);var t=Object(n.d)(s.b.getBalanceIsLoading),a=Object(n.d)(s.b.getBalance);return t?Object(o.jsxs)("div",{className:r.a.wrapper,children:[Object(o.jsx)("h2",{className:r.a.title,children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),Object(o.jsxs)("p",{className:r.a.txtIsLoading,children:[Object(o.jsx)("span",{className:r.a.badge,children:"\u20b4"}),a]})]}):Object(o.jsxs)("div",{className:r.a.wrapper,children:[Object(o.jsx)("h2",{className:r.a.title,children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),Object(o.jsxs)("p",{className:r.a.txt,children:[Object(o.jsx)("span",{className:r.a.badge,children:"\u20b4"}),a]})]})}))},165:function(e,t,a){e.exports={wrapper:"Balance_wrapper__uQH9k",title:"Balance_title__1K3JV",txt:"Balance_txt__1IbAe",txtIsLoading:"Balance_txtIsLoading__1WtIC",badge:"Balance_badge__3divu"}},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var c=a(129),n=a(143),s=a(144),i=a(142),r=a(164),o=a(118),l=a(0),d=a(18),j=a(19),b=a(145),u=a(43),h=(a(57),a(4));function m(e){var t=e.errorMessage;return u.b.error("".concat(t)),Object(h.jsx)("div",{children:Object(h.jsx)(u.a,{draggable:!1,position:"top-right",closeButton:!0,closeOnClick:!0,autoClose:8e3,hideProgressBar:!1,newestOnTop:!1,pauseOnVisibilityChange:!0,pauseOnHover:!0})})}a(245);var x=a(359),O=(new Date).getFullYear(),p={colorSchema:["#FED057","#FFD8D0","#FD9498","#C5BAFF","#6E78E8","#4A56E2","#81E1FF","#24CCA7","#00AD84"],categoriesSchema:["\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b","\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b","\u041c\u0430\u0448\u0438\u043d\u0430","\u0417\u0430\u0431\u043e\u0442\u0430 \u043e \u0441\u0435\u0431\u0435","\u0417\u0430\u0431\u043e\u0442\u0430 \u043e \u0434\u0435\u0442\u044f\u0445","\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430","\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435","\u0414\u043e\u0441\u0443\u0433","\u0414\u0440\u0443\u0433\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"],yearOptions:[0,-1,-2,-3].map((function(e){return String(e+O)})),monthOptions:["01","02","03","04","05","06","07","08","09","10","11","12"]};function f(e){var t=e.statistics,a=e.balance,c={datasets:[{data:t,backgroundColor:p.colorSchema,borderColor:p.colorSchema,borderWidth:1,hoverOffset:4,cutout:99}]};return Object(h.jsxs)("div",{className:"chart",children:[Object(h.jsx)(x.a,{className:"chart__contents",data:c}),Object(h.jsxs)("span",{className:"chart__ballance",children:["\u20b4 ",a]})]})}a(246);function v(e){var t=e.selected,a=e.setSelected,c=e.options,n=Object(l.useState)(!1),s=Object(o.a)(n,2),i=s[0],r=s[1];return Object(h.jsxs)("div",{className:"dropdown",children:[Object(h.jsxs)("div",{className:"dropdown-btn",onClick:function(e){r(!i)},children:[t,Object(h.jsx)("span",{className:"arrow-down"})]}),i&&Object(h.jsx)("div",{className:"dropdown-content",children:c.map((function(e){return Object(h.jsx)("div",{onClick:function(t){a(e),r(!1)},onBlur:function(e){r(!1)},className:"dropdown-item",children:e},e)}))})]})}a(247);function g(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"table",children:[Object(h.jsxs)("div",{className:"table_select",children:[Object(h.jsx)("div",{className:"component_select_m",children:Object(h.jsx)(v,{selected:e.selectedMonth,setSelected:e.setSelectedMonth,options:p.monthOptions})}),Object(h.jsx)("div",{className:"component_select_y",children:Object(h.jsx)(v,{selected:e.selectedYear,setSelected:e.setSelectedYear,options:p.yearOptions})})]}),Object(h.jsxs)("div",{className:"statistics__menu",children:[Object(h.jsx)("span",{className:"statistics__list-title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(h.jsx)("span",{className:"statistics__list-title",children:"\u0421\u0443\u043c\u043c\u0430"})]}),Object(h.jsx)("ul",{className:"statistics list",children:e.statistics.expenseList.map((function(e,t){return 0!==e&&Object(h.jsxs)("li",{className:"statistics__list-item",children:[Object(h.jsx)("span",{className:"statistics__color",style:{backgroundColor:p.colorSchema[t]},children:" "}),Object(h.jsx)("div",{className:"statistics__category_wrap",children:Object(h.jsx)("span",{className:"statistics__category",children:p.categoriesSchema[t]})}),Object(h.jsx)("span",{className:"statistics__costs",children:e})]},t)}))}),Object(h.jsxs)("ul",{className:"outcome list",children:[Object(h.jsxs)("li",{className:"outcome__item",children:[Object(h.jsx)("span",{className:"outcome__type",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),Object(h.jsx)("span",{className:"outcome__total outcome__total--expenses",children:e.statistics.expenseAll})]}),Object(h.jsxs)("li",{className:"outcome__item",children:[Object(h.jsx)("span",{className:"outcome__type",children:"\u0414\u043e\u0445\u043e\u0434\u044b:"}),Object(h.jsx)("span",{className:"outcome__total  outcome__total--income",children:e.statistics.income})]})]})]})})}a(248);var _=a(32),N=a.n(_),w=a(37),k=a(16),y=a.n(k);y.a.defaults.baseURL="https://fin-project-group4.herokuapp.com/api/";var C=function(){var e=Object(w.a)(N.a.mark((function e(t,a,c){var n,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y.a.defaults.headers.common.Authorization="".concat(c),e.next=4,y.a.get("transactions/statistics?month=".concat(Number(t),"&year=").concat(a));case 4:return n=e.sent,s=n.data,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),new Error("".concat(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,c){return e.apply(this,arguments)}}(),S={fetchStatisticsAPI:C};function B(){var e={income:"-",expenseAll:"-",expenseCategory:{Basic:"-",Food:"-",Auto:"-",Development:"-",Children:"-",Home:"-",Education:"-",Others:"-"}},t=Object(d.d)(b.b.getBalance),a=Object(d.d)(j.c.getToken),c=Object(l.useState)(e),n=Object(o.a)(c,2),s=n[0],i=n[1],r=Object(l.useState)("\u041c\u0435\u0441\u044f\u0446"),u=Object(o.a)(r,2),x=u[0],O=u[1],p=Object(l.useState)("\u0413\u043e\u0434"),v=Object(o.a)(p,2),_=v[0],N=v[1],w=Object(l.useState)(null),k=Object(o.a)(w,2),y=k[0],C=k[1],B=Object(l.useState)(null),F=Object(o.a)(B,2),A=F[0],E=F[1];Object(l.useEffect)((function(){var e=x,t=_;e="\u041c\u0435\u0441\u044f\u0446"===e?11:x,t="\u0413\u043e\u0434"===t?2021:_,E(!0),S.fetchStatisticsAPI(e,t,a).then((function(e){if(!(null===e||void 0===e?void 0:e.data))throw new m("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e," !"));i(null===e||void 0===e?void 0:e.data)})).catch((function(e){C(e)})).finally((function(){E(!1)}))}),[x,_,a]);var L=Object.values(null===s||void 0===s?void 0:s.expenseCategory),I=null===s||void 0===s?void 0:s.income,P={expenseList:L,expenseAll:null===s||void 0===s?void 0:s.expenseAll,income:I};if(!0===A){var D={expenseList:Object.values(e.expenseCategory),expenseAll:e.expenseAll,income:e.income};return Object(h.jsxs)("section",{className:"diagram",children:[Object(h.jsx)("h1",{className:"diagram__title",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),Object(h.jsxs)("div",{className:"diagram__data",children:[D&&Object(h.jsx)(f,{statistics:D.expenseList,balance:t}),Object(h.jsx)(g,{selectedMonth:x,setSelectedMonth:O,selectedYear:_,setSelectedYear:N,statistics:D})]})]})}return Object(h.jsxs)("section",{className:"diagram",children:[Object(h.jsx)("h1",{className:"diagram__title",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),Object(h.jsxs)("div",{className:"diagram__data",children:[P&&Object(h.jsx)(f,{statistics:P.expenseList,balance:t}),y&&Object(h.jsx)(m,{errorMessage:y.message}),Object(h.jsx)(g,{selectedMonth:x,setSelectedMonth:O,selectedYear:_,setSelectedYear:N,statistics:P})]})]})}a(249);function F(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a,{query:"(max-width: 767px)",render:function(){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(n.a,{}),Object(h.jsxs)("div",{className:"statisticsPage",children:[Object(h.jsx)("div",{className:"left-side-block",style:{width:"320px"},children:Object(h.jsx)(i.a,{})}),Object(h.jsx)("div",{className:"right-side-block",style:{width:"320px"},children:Object(h.jsx)(B,{})})]})]})}}),Object(h.jsx)(c.a,{query:"(min-width: 768px) and (max-width: 1279px)",render:function(){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(n.a,{}),Object(h.jsxs)("div",{className:"statisticsPage",children:[Object(h.jsxs)("div",{className:"left-side-block tablet-placement",style:{width:"768px"},children:[Object(h.jsxs)("div",{className:"sub-division-tablet",children:[Object(h.jsx)(i.a,{}),Object(h.jsx)(r.a,{})]}),Object(h.jsx)("div",{style:{width:"334px",display:"inline-flex"},children:Object(h.jsx)(s.a,{})})]}),Object(h.jsx)("div",{className:"right-side-block",style:{width:"768px"},children:Object(h.jsx)(B,{})})]})]})}}),Object(h.jsx)(c.a,{query:"(min-width: 1280px)",render:function(){return Object(h.jsxs)(h.Fragment,{children:[" ",Object(h.jsx)(n.a,{}),Object(h.jsxs)("div",{className:"statisticsPage",style:{display:"flex"},children:[Object(h.jsxs)("div",{className:"left-side-block",style:{width:"378px"},children:[Object(h.jsx)(i.a,{}),Object(h.jsx)(r.a,{}),Object(h.jsx)("div",{style:{width:"348px",display:"inline-flex"},children:Object(h.jsx)(s.a,{})})]}),Object(h.jsx)("div",{className:"right-side-block",style:{width:"815px"},children:Object(h.jsx)(B,{})})]})]})}})]})}}}]);
//# sourceMappingURL=8.5ccf9e66.chunk.js.map