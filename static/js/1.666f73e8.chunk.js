(this["webpackJsonpfin-project-front"]=this["webpackJsonpfin-project-front"]||[]).push([[1],{126:function(e,t,a){"use strict";a(0);var n=a(136),c=a.n(n),i=a(1);t.a=function(){return Object(i.jsxs)("div",{className:c.a.wrapper,children:[Object(i.jsx)("h2",{className:c.a.title,children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441"}),Object(i.jsxs)("p",{className:c.a.txt,children:[Object(i.jsx)("span",{className:c.a.badge,children:"\u20b4"}),24e3]})]})}},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(22),c=a.p+"static/media/icons.317bdcaa.svg",i=a(1),s=function(e){var t=e.name,a=e.size,n=e.className,s=e.color;return Object(i.jsx)("svg",{className:"icon icon-".concat(t," ").concat(n),fill:s,stroke:s,width:a,height:a,children:Object(i.jsx)("use",{xlinkHref:"".concat(c,"#icon-").concat(t)})})},o=a(135),r=a.n(o),l=function(){return Object(i.jsx)("div",{className:r.a.navigation_container,children:Object(i.jsxs)("nav",{className:r.a.navigation_nav_link,children:[Object(i.jsxs)(n.c,{to:"/fin-project-front/home",className:r.a.navigation_link,children:[Object(i.jsx)(s,{name:"home",className:r.a.navigation_home_icon}),Object(i.jsx)("p",{className:r.a.navigation_page_home,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})]}),Object(i.jsxs)(n.c,{to:"/fin-project-front/statistics",className:r.a.navigation_link,children:[Object(i.jsx)(s,{name:"statistic",className:r.a.navigation_stat_icon}),Object(i.jsx)("p",{className:r.a.navigation_page_stat,children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),Object(i.jsx)(n.c,{to:"/fin-project-front/currency",className:r.a.navigation_link,children:Object(i.jsx)(s,{name:"dollar",className:r.a.navigation_dollar_icon})})]})})}},128:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),c=a(22),i=(a(130),a(115)),s=(a(131),a(11)),o=a(18),r=a(26),l=a(37),d=(a(132),a(1)),u=document.querySelector("#modal-root");function j(e){var t=e.onClose,a=Object(s.b)(),c=Object(n.useCallback)((function(){a(l.a.logout())}),[a]);Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);var i=Object(n.useCallback)((function(e){e.currentTarget===e.target&&t()}),[t]);return Object(r.createPortal)(Object(d.jsx)("div",{className:"Modal__backdrop",onClick:i,children:Object(d.jsxs)("div",{className:"Modal__content",onClose:t,children:[Object(d.jsx)("span",{children:"\u041d\u0443 \u0433\u0443\u0434\u0431\u0430\u0439"}),Object(d.jsx)("button",{onClick:c,children:"\u041e\u043a"}),Object(d.jsx)("button",{onClick:i,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})}),u)}function b(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(s.c)(o.c.getUserName),l=Object(n.useCallback)((function(){c(!0)})),u=Object(n.useCallback)((function(){c(!1)}));return Object(d.jsxs)("div",{className:"user-menu",children:[Object(d.jsx)("span",{className:"user-name",children:r}),Object(d.jsxs)("button",{className:"logout-button",type:"button",onClick:l,children:[Object(d.jsx)("svg",{className:"logout-icon",children:Object(d.jsx)("use",{href:"../../../../images/icons/logout-icon.svg"})}),Object(d.jsx)("span",{className:"exit-button-text",children:"\u0412\u044b\u0439\u0442\u0438"})]}),a?Object(d.jsx)(j,{onClose:u}):null]})}function h(){return Object(d.jsxs)("div",{className:"auth-bar",children:[Object(d.jsx)(c.b,{to:"/fin-project-front/home",className:"logo bar-logo"}),Object(d.jsx)(b,{})]})}},129:function(e,t,a){"use strict";var n=a(16),c=a.n(n),i=a(23),s=a(20),o=a(115),r=a(0),l=a(198),d=a(202),u=a(205),j=a(212),b=a(203),h=a(204),m=a(39),p=a.n(m),x=a(201),f=a.p+"static/media/vector.2c3a3c54.svg",_=a.p+"static/media/vector1.94d94956.svg",g=(a(133),a(1)),O=function(e){return Number.parseFloat(e).toFixed(2)};t.a=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],m=Object(r.useState)(!1),v=Object(o.a)(m,2),N=v[0],w=v[1],k=Object(r.useState)(!1),y=Object(o.a)(k,2),S=y[0],C=y[1];Object(r.useEffect)((function(){F(),C(window.innerWidth>1279),A()}),[]);var F=function(){window.addEventListener("resize",(function(){C(window.innerWidth>1279)}))},A=function(){var e=Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,fetch("https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5").then((function(e){return e.json()})).then((function(e){return e}));case 4:t=e.sent,a=t.filter((function(e){return"BTC"!==e.ccy})),n((function(e){return[].concat(Object(i.a)(e),Object(i.a)(a))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Smth wrong with search fetch",e.t0);case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),E=Object(l.a)((function(e){return{root:{fontFamily:"Circe","border-top-left-radius":20,"border-top-right-radius":20,padding:0,"border-bottom-left-radius":20,"border-bottom-right-radius":20},table:{"@media (min-width: 320px) and (max-width:767px )":{width:280},"@media (min-width: 768px) and (max-width:1279px )":{width:334},"@media (min-width: 1280)":{width:348},"@media (min-width: 320px) and (max-width:1279px )":{backgroundImage:"url(".concat(_,")"),backgroundPosition:"bottom",backgroundRepeat:"no-repeat","border-bottom-left-radius":20,"border-bottom-right-radius":20},"text-align":"center",border:"none",background:"#4a56e2","border-top-left-radius":20,"border-top-right-radius":20,fontFamily:"Circe"},tableBody:{"@media (min-width: 320px) and (max-width:1279px )":{}},head:{"@media (min-width: 320px) and (max-width:1279px )":{height:50},"@media (min-width: 1280)":{height:60},"text-align":"center","border-bottom":"none",color:"#ffffff","font-size":"18px",fontFamily:"Circe","line-height":"27px"},headCell:{"font-weight":"bold","@media (min-width: 1280)":{padding:0},"@media (min-width: 320px) and (max-width:1279px )":{padding:0},"text-align":"center",color:"#ffffff","font-size":"18px",fontFamily:"Circe","border-bottom":"none","line-height":"27px",background:"#6e78e8"},row:{"@media (min-width: 1280)":{height:51}},cell:{padding:13,"text-align":"center",border:"none","@media (min-width: 320px) and (max-width:1279px )":{height:41,padding:0},"@media (min-width: 1280)":{height:51},fontFamily:"Circe",color:"#ffffff","font-weight":400,"font-size":"16px","line-height":"24px"},cellRadiusLeft:{"border-top-left-radius":20},cellRadiusRight:{"border-top-right-radius":20},vector:{background:"#4a56e2","border-bottom-left-radius":20,"border-bottom-right-radius":20}}}))();return Object(g.jsxs)("div",{children:[Object(g.jsx)(x.a,{className:E.root,children:Object(g.jsxs)(d.a,{className:E.table,children:[Object(g.jsx)(b.a,{className:E.head,children:Object(g.jsxs)(h.a,{children:[Object(g.jsx)(j.a,{className:E.headCell+" "+E.cellRadiusLeft,children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(g.jsx)(j.a,{className:E.headCell,children:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430"}),Object(g.jsx)(j.a,{className:E.headCell+" "+E.cellRadiusRight,children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430"})]})}),Object(g.jsx)(u.a,{className:E.tableBody,children:a.map((function(e){return Object(g.jsxs)(h.a,{className:E.row,children:[Object(g.jsx)(j.a,{className:E.cell,children:e.ccy}),Object(g.jsx)(j.a,{className:E.cell,children:O(e.buy)}),Object(g.jsx)(j.a,{className:E.cell,children:O(e.sale)})]},e.ccy)}))})]})}),N&&Object(g.jsx)(p.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80}),S&&Object(g.jsxs)("div",{children:[" ",Object(g.jsx)("img",{src:f,className:E.vector,alt:"vector"})]})]})}},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},135:function(e,t,a){e.exports={navigation_link:"Navigation_navigation_link__2AaYf",navigation_container:"Navigation_navigation_container__2l-nP",navigation_nav_link:"Navigation_navigation_nav_link__1WBZo",navigation_home_icon:"Navigation_navigation_home_icon__1AE_A",navigation_stat_icon:"Navigation_navigation_stat_icon__1dqXB",navigation_dollar_icon:"Navigation_navigation_dollar_icon__2Zse7",navigation_page_home:"Navigation_navigation_page_home__2rySn",navigation_page_stat:"Navigation_navigation_page_stat__2iwgI"}},136:function(e,t,a){e.exports={wrapper:"Balance_wrapper__uQH9k",title:"Balance_title__1K3JV",txt:"Balance_txt__1IbAe",badge:"Balance_badge__3divu"}},146:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(115),c=a(0),i=a(11),s=a(18),o=(a(181),a(188)),r=(new Date).getFullYear(),l={colorSchema:["#FED057","#FFD8D0","#FD9498","#C5BAFF","#6E78E8","#4A56E2","#81E1FF","#24CCA7","#00AD84"],categoriesSchema:["\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b","\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b","\u041c\u0430\u0448\u0438\u043d\u0430","\u0417\u0430\u0431\u043e\u0442\u0430 \u043e \u0441\u0435\u0431\u0435","\u0417\u0430\u0431\u043e\u0442\u0430 \u043e \u0434\u0435\u0442\u044f\u0445","\u0422\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430","\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435","\u0414\u043e\u0441\u0443\u0433","\u0414\u0440\u0443\u0433\u0438\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"],yearOptions:[0,-1,-2,-3].map((function(e){return String(e+r)})),monthOptions:["01","02","03","04","05","06","07","08","09","10","11","12"]},d=a(1);function u(e){var t={datasets:[{data:e.statistics,backgroundColor:l.colorSchema,borderColor:l.colorSchema,borderWidth:1,hoverOffset:4,cutout:99}]};return Object(d.jsxs)("div",{className:"chart",children:[Object(d.jsx)(o.a,{className:"chart__contents",data:t}),Object(d.jsxs)("span",{className:"chart__ballance",children:["\u20b4 ",25e4]})]})}a(182);function j(e){var t=e.selected,a=e.setSelected,i=e.options,s=Object(c.useState)(!1),o=Object(n.a)(s,2),r=o[0],l=o[1];return Object(d.jsxs)("div",{className:"dropdown",children:[Object(d.jsxs)("div",{className:"dropdown-btn",onClick:function(e){console.log("listener outside added"),l(!r),console.log("btn click isActive",r)},children:[t,Object(d.jsx)("span",{className:"arrow-down"})]}),r&&Object(d.jsx)("div",{className:"dropdown-content",children:i.map((function(e){return Object(d.jsx)("div",{onClick:function(t){a(e),l(!1),console.log("option click isActive",r)},onBlur:function(e){l(!1),console.log("onBlur",r)},className:"dropdown-item",children:e},e)}))})]})}a(183);function b(e){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"table",children:[Object(d.jsxs)("div",{className:"table_select",children:[Object(d.jsx)("div",{className:"component_select_m",children:Object(d.jsx)(j,{selected:e.selectedMonth,setSelected:e.setSelectedMonth,options:l.monthOptions})}),Object(d.jsx)("div",{className:"component_select_y",children:Object(d.jsx)(j,{selected:e.selectedYear,setSelected:e.setSelectedYear,options:l.yearOptions})})]}),Object(d.jsxs)("div",{className:"statistics__menu",children:[Object(d.jsx)("span",{className:"statistics__list-title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),Object(d.jsx)("span",{className:"statistics__list-title",children:"\u0421\u0443\u043c\u043c\u0430"})]}),Object(d.jsx)("ul",{className:"statistics list",children:e.statistics.expenseList.map((function(e,t){if(0!==e)return Object(d.jsxs)("li",{className:"statistics__list-item",children:[Object(d.jsx)("span",{className:"statistics__color",style:{backgroundColor:l.colorSchema[t]},children:" "}),Object(d.jsx)("div",{className:"statistics__category_wrap",children:Object(d.jsx)("span",{className:"statistics__category",children:l.categoriesSchema[t]})}),Object(d.jsx)("span",{className:"statistics__costs",children:e})]},t)}))}),Object(d.jsxs)("ul",{className:"outcome list",children:[Object(d.jsxs)("li",{className:"outcome__item",children:[Object(d.jsx)("span",{className:"outcome__type",children:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b:"}),Object(d.jsx)("span",{className:"outcome__total outcome__total--expenses",children:e.statistics.expenseAll})]}),Object(d.jsxs)("li",{className:"outcome__item",children:[Object(d.jsx)("span",{className:"outcome__type",children:"\u0414\u043e\u0445\u043e\u0434\u044b:"}),Object(d.jsx)("span",{className:"outcome__total  outcome__total--income",children:e.statistics.income})]})]})]})})}a(184);var h=a(16),m=a.n(h),p=a(20),x=a(14),f=a.n(x);f.a.defaults.baseURL="https://fin-project-group4.herokuapp.com/api/";var _=function(){var e=Object(p.a)(m.a.mark((function e(t,a,n){var c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f.a.defaults.headers.common.Authorization="".concat(n),e.next=4,f.a.get("/transactions/statistics",{body:JSON.stringify({month:8,year:2020})});case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),console.log("Error in stats fetch occurred...",e.t0.message),e.abrupt("return",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),g={fetchStatisticsAPI:_};console.log("Show index import:",_);var O=g;function v(){var e=Object(c.useState)({income:123,expenseAll:12,expenseCategory:{Basic:6,Food:2,Auto:1,Development:0,Children:2,Home:1,Education:0,Others:0}}),t=Object(n.a)(e,2),a=t[0],o=t[1],r=Object(c.useState)("\u041c\u0435\u0441\u044f\u0446"),l=Object(n.a)(r,2),j=l[0],h=l[1],m=Object(c.useState)("\u0413\u043e\u0434"),p=Object(n.a)(m,2),x=p[0],f=p[1],_=Object(c.useState)(null),g=Object(n.a)(_,2),v=g[0],N=g[1];console.log("useState(\u041c\u0435\u0441\u044f\u0446)",j),console.log("useState(\u0413\u043e\u0434)",x);var w=Object(i.c)(s.c.getToken);if(Object(c.useEffect)((function(){var e=j,t=x;e="\u041c\u0435\u0441\u044f\u0446"===e?11:j,t="\u0413\u043e\u0434"===t?2021:x,O.fetchStatisticsAPI(e,t,w).then((function(e){if(console.log("stats request started, resolve res:",e),!(null===e||void 0===e?void 0:e.data))throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445!!! ".concat(e));o(null===e||void 0===e?void 0:e.data)})).catch((function(e){N(e)}))}),[j,x,w]),a){var k=Object.values(null===a||void 0===a?void 0:a.expenseCategory),y=null===a||void 0===a?void 0:a.income,S={expenseList:k,expenseAll:null===a||void 0===a?void 0:a.expenseAll,income:y};return Object(d.jsxs)("section",{className:"diagram",children:[Object(d.jsx)("h1",{className:"diagram__title",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),v&&Object(d.jsxs)("p",{style:{fontSize:"12px",color:"red"},children:["\u041f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 ",v.message]}),Object(d.jsxs)("div",{className:"diagram__data",children:[S&&Object(d.jsx)(u,{statistics:S.expenseList}),Object(d.jsx)(b,{selectedMonth:j,setSelectedMonth:h,selectedYear:x,setSelectedYear:f,statistics:S})]})]})}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{style:{fontSize:"50px",color:"red"},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043d\u0435 \u043f\u043e\u0434\u0432\u0435\u0437\u043b\u0438. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0442\u043e\u043a\u0435\u043d\u043e\u043c, \u043f\u0435\u0440\u0435\u043b\u043e\u0433\u0438\u043d\u044c\u0441\u044f!"}),Object(d.jsxs)("p",{style:{fontSize:"20px",color:"red"},children:[" ","\u0421\u044b\u0440\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0442\u0430\u043a\u043e\u0432\u044b",a," "]})]})}},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){}}]);
//# sourceMappingURL=1.666f73e8.chunk.js.map